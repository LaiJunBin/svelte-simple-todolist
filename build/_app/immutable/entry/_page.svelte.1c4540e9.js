var ae=Object.defineProperty;var oe=(c,e,t)=>e in c?ae(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var H=(c,e,t)=>(oe(c,typeof e!="symbol"?e+"":e,t),t);import{S as R,i as j,s as q,k as y,q as O,l as k,m as E,r as U,h as g,n as b,b as A,G as h,H as N,a as B,c as T,J as L,K as re,L as ie,M as ce,N as M,u as G,O as se,P as ue,Q as de,y as J,z as K,A as Q,R as W,T as he,g as X,d as Y,B as Z}from"../chunks/index.2d119b34.js";function fe(c){let e,t,n;return{c(){e=y("header"),t=y("h1"),n=O("TodoList"),this.h()},l(s){e=k(s,"HEADER",{class:!0});var d=E(e);t=k(d,"H1",{class:!0});var i=E(t);n=U(i,"TodoList"),i.forEach(g),d.forEach(g),this.h()},h(){b(t,"class","text-4xl"),b(e,"class","bg-indigo-600 text-white px-4 py-2 mb-4")},m(s,d){A(s,e,d),h(e,t),h(t,n)},p:N,i:N,o:N,d(s){s&&g(e)}}}class _e extends R{constructor(e){super(),j(this,e,null,fe,q,{})}}function ee(c,e,t){const n=c.slice();return n[9]=e[t],n[11]=t,n}function te(c,e){let t,n,s,d,i=!1,f,p=e[9].name+"",m,v,o,r,a=e[9].done?"Undone":"Done",u,l,_,I,x,D,V,z;function ne(){return e[7](e[11])}function le(){return e[8](e[11])}return D=ce(e[6][0]),{key:c,first:null,c(){t=y("li"),n=y("label"),s=y("input"),f=B(),m=O(p),v=B(),o=y("div"),r=y("button"),u=O(a),l=B(),_=y("button"),I=O("x"),x=B(),this.h()},l($){t=k($,"LI",{class:!0});var w=E(t);n=k(w,"LABEL",{class:!0});var P=E(n);s=k(P,"INPUT",{type:!0}),f=T(P),m=U(P,p),P.forEach(g),v=T(w),o=k(w,"DIV",{class:!0});var S=E(o);r=k(S,"BUTTON",{class:!0});var C=E(r);u=U(C,a),C.forEach(g),l=T(S),_=k(S,"BUTTON",{class:!0});var F=E(_);I=U(F,"x"),F.forEach(g),S.forEach(g),x=T(w),w.forEach(g),this.h()},h(){b(s,"type","checkbox"),s.__value=d=e[11],s.value=s.__value,b(n,"class","flex-grow py-1"),b(r,"class","text-white px-3 py-1"),M(r,"bg-yellow-500",e[9].done),M(r,"bg-green-500",!e[9].done),b(_,"class","bg-red-500 text-white px-3 py-1"),b(o,"class","flex"),b(t,"class","flex justify-between border-b mb-2"),D.p(s),this.first=t},m($,w){A($,t,w),h(t,n),h(n,s),s.checked=~(e[1]||[]).indexOf(s.__value),h(n,f),h(n,m),h(t,v),h(t,o),h(o,r),h(r,u),h(o,l),h(o,_),h(_,I),h(t,x),V||(z=[L(s,"change",e[5]),L(r,"click",ne),L(_,"click",le)],V=!0)},p($,w){e=$,w&1&&d!==(d=e[11])&&(s.__value=d,s.value=s.__value,i=!0),(i||w&3)&&(s.checked=~(e[1]||[]).indexOf(s.__value)),w&1&&p!==(p=e[9].name+"")&&G(m,p),w&1&&a!==(a=e[9].done?"Undone":"Done")&&G(u,a),w&1&&M(r,"bg-yellow-500",e[9].done),w&1&&M(r,"bg-green-500",!e[9].done)},d($){$&&g(t),D.r(),V=!1,se(z)}}}function pe(c){let e,t,n,s,d,i,f=[],p=new Map,m,v,o=c[0];const r=a=>a[9].id;for(let a=0;a<o.length;a+=1){let u=ee(c,o,a),l=r(u);p.set(l,f[a]=te(l,u))}return{c(){e=y("div"),t=y("div"),n=y("button"),s=O("Batch delete."),d=B(),i=y("ul");for(let a=0;a<f.length;a+=1)f[a].c();this.h()},l(a){e=k(a,"DIV",{class:!0});var u=E(e);t=k(u,"DIV",{class:!0});var l=E(t);n=k(l,"BUTTON",{class:!0});var _=E(n);s=U(_,"Batch delete."),_.forEach(g),l.forEach(g),d=T(u),i=k(u,"UL",{});var I=E(i);for(let x=0;x<f.length;x+=1)f[x].l(I);I.forEach(g),u.forEach(g),this.h()},h(){b(n,"class","bg-red-500 text-white px-3 py-1"),b(t,"class","text-center my-4"),b(e,"class","w-96 py-2")},m(a,u){A(a,e,u),h(e,t),h(t,n),h(n,s),h(e,d),h(e,i);for(let l=0;l<f.length;l+=1)f[l]&&f[l].m(i,null);m||(v=L(n,"click",c[3]),m=!0)},p(a,[u]){u&23&&(o=a[0],f=re(f,u,r,1,a,o,p,i,ue,te,null,ee))},i:N,o:N,d(a){a&&g(e);for(let u=0;u<f.length;u+=1)f[u].d();m=!1,v()}}}function me(c,e,t){const n=ie();let s=[];const d=()=>{n("deleteByIndexes",s),t(1,s=[])},i=r=>{const a=s.indexOf(r);a!==-1&&s.splice(a,1),t(1,s=s.map(u=>u>r?u-1:u)),n("deleteByIndexes",[r])};let{todos:f}=e;const p=[[]];function m(){s=de(p[0],this.__value,this.checked),t(1,s)}const v=r=>n("switchStatusByIndex",r),o=r=>i(r);return c.$$set=r=>{"todos"in r&&t(0,f=r.todos)},[f,s,n,d,i,m,p,v,o]}class ge extends R{constructor(e){super(),j(this,e,me,pe,q,{todos:0})}}let be=0;class ve{constructor(e,t=!1){H(this,"id");H(this,"name");H(this,"done");this.id=++be,this.name=e,this.done=t}}function ye(c){let e,t,n,s,d,i,f,p,m,v,o,r,a,u;return e=new _e({}),o=new ge({props:{todos:c[1]}}),o.$on("deleteByIndexes",c[3]),o.$on("switchStatusByIndex",c[4]),{c(){J(e.$$.fragment),t=B(),n=y("main"),s=y("form"),d=y("div"),i=y("input"),f=B(),p=y("button"),m=O("Add"),v=B(),J(o.$$.fragment),this.h()},l(l){K(e.$$.fragment,l),t=T(l),n=k(l,"MAIN",{class:!0});var _=E(n);s=k(_,"FORM",{});var I=E(s);d=k(I,"DIV",{class:!0});var x=E(d);i=k(x,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),f=T(x),p=k(x,"BUTTON",{class:!0});var D=E(p);m=U(D,"Add"),D.forEach(g),x.forEach(g),I.forEach(g),v=T(_),K(o.$$.fragment,_),_.forEach(g),this.h()},h(){b(i,"id","todo-input"),b(i,"class","border-b outline-none w-96 px-4 py-2"),b(i,"type","text"),b(i,"placeholder","Please input todo name..."),b(p,"class","bg-blue-500 text-white px-4 py-2"),b(d,"class","flex items-center justify-center"),b(n,"class","flex flex-col items-center")},m(l,_){Q(e,l,_),A(l,t,_),A(l,n,_),h(n,s),h(s,d),h(d,i),W(i,c[0]),h(d,f),h(d,p),h(p,m),h(n,v),Q(o,n,null),r=!0,a||(u=[L(i,"input",c[5]),L(s,"submit",he(c[2]))],a=!0)},p(l,[_]){_&1&&i.value!==l[0]&&W(i,l[0]);const I={};_&2&&(I.todos=l[1]),o.$set(I)},i(l){r||(X(e.$$.fragment,l),X(o.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(o.$$.fragment,l),r=!1},d(l){Z(e,l),l&&g(t),l&&g(n),Z(o),a=!1,se(u)}}}function ke(c,e,t){let n="",s=[];const d=()=>{if(!n)return;const m=new ve(n);t(1,s=[...s,m]),t(0,n="")},i=m=>{t(1,s=s.filter((v,o)=>!m.detail.includes(o)))},f=m=>{t(1,s=s.map((v,o)=>(o===m.detail&&(v.done=!v.done),v)))};function p(){n=this.value,t(0,n)}return[n,s,d,i,f,p]}class Ie extends R{constructor(e){super(),j(this,e,ke,ye,q,{})}}export{Ie as default};
